import{d as k,Z as b,j as C,c as l,g as a,a as o,u as e,h as V,w as n,l as f,p as N,f as c,b as m,n as $,s as v,t as x,F as W,o as i}from"./app-BJGYOyUD.js";import{_ as z}from"./Heading.vue_vue_type_script_setup_true_lang-Cdcm_J2i.js";import{X as B,Y as F,I as g}from"./craft-ui-B0WW3MIn.js";import{A as L}from"./arrow-left-DI0j5vk-.js";const S={class:"space-y-6"},A={class:"flex items-center gap-4"},I={key:0,class:"mt-1 text-xs text-muted-foreground"},X={class:"font-mono text-foreground"},Y={key:1,class:"mt-1 text-xs text-red-400"},j={key:2,class:"mt-1 text-xs text-red-400"},D={class:"flex items-center gap-3"},U=k({layout:b,__name:"Create",props:{environment:{}},setup(d){const h=d,t=C({name:""}),_=p=>p.toLowerCase().replace(/[^a-z0-9-]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),r=v(()=>_(t.name)),u=v(()=>/^[a-z0-9-]+$/.test(r.value)&&r.value.length>0),w=()=>{t.transform(()=>({name:r.value})).post(`/environments/${h.environment.id}/workspaces`)};return(p,s)=>(i(),l(W,null,[a(e(V),{title:"Create Workspace"}),o("div",S,[o("div",A,[a(e(f),{href:`/environments/${d.environment.id}/workspaces`,class:"p-2 rounded-lg hover:bg-white/5 text-zinc-400 hover:text-white"},{default:n(()=>[a(e(L),{class:"w-5 h-5"})]),_:1},8,["href"]),a(z,{title:"Create Workspace",description:"Group related sites together"})]),o("form",{onSubmit:N(w,["prevent"]),class:"max-w-xl space-y-6"},[o("div",null,[a(e(B),{for:"name",class:"text-muted-foreground mb-2"},{default:n(()=>[...s[1]||(s[1]=[m(" Workspace Name ",-1)])]),_:1}),a(e(F),{id:"name",modelValue:e(t).name,"onUpdate:modelValue":s[0]||(s[0]=y=>e(t).name=y),type:"text",placeholder:"my-workspace",class:$(["w-full",{"border-red-500":e(t).name&&!u.value}])},null,8,["modelValue","class"]),e(t).name&&r.value!==e(t).name?(i(),l("p",I,[s[2]||(s[2]=m(" Will be created as: ",-1)),o("span",X,x(r.value),1)])):c("",!0),e(t).name&&!u.value?(i(),l("p",Y," Name must contain only lowercase letters, numbers, and hyphens. ")):c("",!0),e(t).errors.name?(i(),l("p",j,x(e(t).errors.name),1)):c("",!0)]),o("div",D,[a(e(g),{type:"submit",variant:"secondary",disabled:e(t).processing||!u.value},{default:n(()=>[...s[3]||(s[3]=[m(" Create Workspace ",-1)])]),_:1},8,["disabled"]),a(e(g),{"as-child":"",variant:"ghost"},{default:n(()=>[a(e(f),{href:`/environments/${d.environment.id}/workspaces`},{default:n(()=>[...s[4]||(s[4]=[m(" Cancel ",-1)])]),_:1},8,["href"])]),_:1})])],32)])],64))}});export{U as default};
