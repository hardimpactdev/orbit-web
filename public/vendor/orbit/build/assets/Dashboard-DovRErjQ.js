import{d as x,c as d,a as n,t as b,F as f,b as l,e as m,f as g,u as t,w as i,n as _,r as k,g as o,l as h,E as w,o as s,h as C,S as $,i as D}from"./app-D9UrdW7P.js";import{_ as E}from"./Heading.vue_vue_type_script_setup_true_lang-DlmZui2S.js";import{D as N,I as v}from"./craft-ui-D2B3OI3e.js";import{Z as S}from"./zap-CE_9bihA.js";const z={class:"border border-border rounded-lg p-4 hover:border-muted-foreground/30 transition-colors"},V={class:"flex justify-between items-start mb-3"},j={class:"font-semibold text-foreground"},A={class:"text-sm text-muted-foreground"},B={class:"flex items-center space-x-2"},T={class:"flex gap-2"},F=x({__name:"EnvironmentCard",props:{environment:{}},setup(r){const c=r,e=k("idle"),u=async()=>{e.value="testing";try{const a=await(await fetch(`/environments/${c.environment.id}/test-connection`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}})).json();e.value=a.success?"success":"error"}catch{e.value="error"}},y={idle:"bg-zinc-600",testing:"bg-yellow-400 animate-pulse",success:"bg-lime-400",error:"bg-red-400"};return(p,a)=>(s(),d("div",z,[n("div",V,[n("div",null,[n("h3",j,b(r.environment.name),1),n("p",A,[r.environment.is_local?(s(),d(f,{key:0},[l("Local")],64)):(s(),d(f,{key:1},[l(b(r.environment.user)+"@"+b(r.environment.host),1)],64))])]),n("div",B,[r.environment.is_default?(s(),m(t(N),{key:0,class:"bg-blue-500/15 text-blue-400 border-blue-400/20"},{default:i(()=>[...a[0]||(a[0]=[l("Default",-1)])]),_:1})):g("",!0),n("span",{class:_(["w-3 h-3 rounded-full transition-colors",y[e.value]])},null,2)])]),n("div",T,[o(t(v),{"as-child":"",variant:"secondary",class:"flex-1"},{default:i(()=>[o(t(h),{href:`/environments/${r.environment.id}`},{default:i(()=>[o(t(w),{class:"w-4 h-4 mr-2"}),a[1]||(a[1]=l(" View ",-1))]),_:1},8,["href"])]),_:1}),o(t(v),{onClick:u,disabled:e.value==="testing",variant:"secondary",class:"flex-1"},{default:i(()=>[o(t(S),{class:"w-4 h-4 mr-2"}),a[2]||(a[2]=l(" Test ",-1))]),_:1},8,["disabled"])])]))}}),L={class:"flex justify-between items-center mb-8"},I={key:0,class:"border border-zinc-800 rounded-lg p-8 text-center"},O={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},P=x({__name:"Dashboard",props:{environments:{},defaultEnvironment:{}},setup(r){return(c,e)=>(s(),d(f,null,[o(t(C),{title:"Dashboard"}),n("div",null,[n("div",L,[o(E,{title:"Dashboard"}),c.$page.props.multi_environment?(s(),m(t(v),{key:0,"as-child":"",variant:"secondary"},{default:i(()=>[o(t(h),{href:"/environments/create"},{default:i(()=>[...e[0]||(e[0]=[l("Add",-1)])]),_:1})]),_:1})):g("",!0)]),r.environments.length===0?(s(),d("div",I,[o(t($),{class:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),e[2]||(e[2]=n("h3",{class:"text-lg font-medium text-white mb-2"},"No environments configured",-1)),e[3]||(e[3]=n("p",{class:"text-zinc-400 mb-4"},"Get started by adding your first environment.",-1)),c.$page.props.multi_environment?(s(),m(t(v),{key:0,"as-child":"",variant:"secondary"},{default:i(()=>[o(t(h),{href:"/environments/create"},{default:i(()=>[...e[1]||(e[1]=[l("Add",-1)])]),_:1})]),_:1})):g("",!0)])):(s(),d("div",O,[(s(!0),d(f,null,D(r.environments,u=>(s(),m(F,{key:u.id,environment:u},null,8,["environment"]))),128))]))])],64))}});export{P as default};
