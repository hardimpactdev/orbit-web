import{c as F,d as zt,k as H,m as Ct,p as le,a as r,h as n,b as s,u as t,i as St,t as c,F as b,j as V,g as u,r as v,q as oe,w as a,e as d,f as g,o,P as xe,s as Vt,v as Tt,x as Y,y as ae,n as De,z as jt,E as Dt,C as $t,A as Pt,B as Et}from"./app-B9x7YZpu.js";import{_ as Ft}from"./DnsSettings.vue_vue_type_script_setup_true_lang-CF-GqFKF.js";import{_ as ye}from"./Modal.vue_vue_type_script_setup_true_lang-JtiZ9cDD.js";import{X as y,Y as T,n as z,A as $e,q as Pe,k as Ee,B as Fe,$ as Ae,I as p,H as he,D as _e,V as At}from"./craft-ui-CaWVxHTa.js";import{L as ie}from"./loader-circle-Cx9CfdV2.js";import{R as Ut}from"./refresh-cw-BtgbN3DG.js";import{T as Ue}from"./triangle-alert-CIKWV0Rs.js";import{F as re}from"./folder-open-DucOw6Q4.js";import{G as Ht}from"./globe-BNW_dHMY.js";import{T as be}from"./trash-2-C8HupC45.js";import{C as Mt}from"./copy-CtRH3W1X.js";import{P as He}from"./pencil-kzrhQi60.js";import"./circle-alert-DUDXhcwq.js";const Kt=F("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Me=F("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const Ke=F("file-code-corner",[["path",{d:"M4 12.15V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.706.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2h-3.35",key:"1wthlu"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m5 16-3 3 3 3",key:"331omg"}],["path",{d:"m9 22 3-3-3-3",key:"lsp7cz"}]]);const Nt=F("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const It=F("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);const Ne=F("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);const Ot=F("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]),Lt={class:"flex h-full"},Bt={class:"sticky top-0 h-screen w-52 shrink-0 bg-zinc-950"},Rt={class:"flex h-full flex-col"},Yt={class:"p-6"},qt={class:"text-sm text-zinc-400"},Xt={class:"flex-1 space-y-1 px-3"},Gt=["onClick"],Jt={class:"flex-1 p-6 lg:p-8 overflow-auto"},Wt={class:"max-w-2xl mx-auto"},Qt={key:0},Zt={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},es={class:"sm:w-1/2 space-y-1"},ts={class:"text-xs text-zinc-500"},ss={class:"sm:w-1/2"},ns={class:"relative"},ls={key:0,class:"mt-2 text-sm text-red-400"},os={key:1,class:"mt-2 text-sm text-amber-400"},as={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},is={class:"sm:w-1/2 space-y-1"},rs={class:"sm:w-1/2"},ds={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},cs={class:"sm:w-1/2 space-y-1"},us={class:"sm:w-1/2 space-y-3"},ms={class:"space-y-1.5"},vs={key:0,class:"text-sm text-red-400"},ps={class:"grid grid-cols-2 gap-3"},fs={class:"space-y-1.5"},xs={key:0,class:"text-sm text-red-400"},ys={class:"space-y-1.5"},hs={key:0,class:"text-sm text-red-400"},_s={class:"flex justify-end py-6"},bs={key:0,class:"text-zinc-500 text-sm py-6"},gs={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},ws={class:"sm:w-1/2 space-y-1"},ks={class:"sm:w-1/2 space-y-2"},zs={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Cs={class:"sm:w-1/2 space-y-1"},Ss={class:"sm:w-1/2"},Vs={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Ts={class:"sm:w-1/2 space-y-1"},js={class:"sm:w-1/2"},Ds={class:"flex justify-end py-6"},$s={class:"space-y-4"},Ps={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},Es={class:"sm:w-1/2 space-y-1"},Fs={class:"sm:w-1/2 flex sm:justify-end"},As={key:0,class:"space-y-4"},Us={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Hs={class:"sm:w-1/2 space-y-1"},Ms={class:"sm:w-1/2"},Ks={class:"flex justify-end py-6"},Ns={class:"py-6"},Is={class:"mb-6"},Os={class:"space-y-3"},Ls={key:0,class:"text-center py-12 text-zinc-500"},Bs={class:"flex items-center gap-2"},Rs={class:"text-sm font-medium text-white"},Ys={class:"text-xs font-mono text-zinc-500 mt-1 truncate max-w-md"},qs={class:"flex items-center gap-1"},Xs={key:1},Gs={key:2},Js={class:"mb-6"},Ws={class:"space-y-3"},Qs={key:0,class:"text-center py-12 text-zinc-500"},Zs={class:"flex items-center gap-2"},en={class:"text-sm font-medium text-white"},tn={class:"text-xs font-mono text-zinc-500 mt-1"},sn={class:"flex items-center gap-1"},nn={key:3},ln={key:0,class:"space-y-6 mb-8"},on={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},an={class:"sm:w-1/2 space-y-1"},rn={class:"sm:w-1/2 flex sm:justify-end"},dn={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},cn={class:"sm:w-1/2 space-y-1"},un={class:"sm:w-1/2 flex sm:justify-end"},mn={class:"py-6"},vn={class:"flex items-center gap-4 mb-6"},pn={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-lime-400/15"},fn={class:"flex-1"},xn={key:0,class:"text-sm font-medium text-white"},yn={key:1,class:"text-sm font-medium text-white"},hn={class:"text-xs text-zinc-500"},_n={key:0,class:"p-4 bg-red-900/20 border border-red-800 rounded-lg mb-4"},bn={class:"flex items-center gap-2 text-red-400"},gn={key:1,class:"space-y-2"},wn={class:"flex items-center gap-4 mb-4 text-sm"},kn={class:"text-lime-400"},zn={key:0,class:"text-amber-400"},Cn={key:1,class:"text-red-400"},Sn=["onClick"],Vn={class:"flex items-center gap-3"},Tn={class:"text-white font-medium"},jn={class:"text-sm text-zinc-400 mt-0.5"},Dn={class:"flex items-center gap-2"},$n={key:0,class:"px-4 py-3 bg-zinc-900/50 border-t border-zinc-700/50"},Pn={class:"space-y-2 text-sm"},En={class:"text-zinc-500 w-32 flex-shrink-0"},Fn={class:"text-zinc-300 font-mono break-all"},An={key:1,class:"text-xs"},Un={key:1,class:"mt-8"},Hn={class:"space-y-4"},Mn={class:"rounded-lg border border-red-500/30 bg-red-500/5 p-4"},Kn={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},Nn={key:0,class:"mt-4 space-y-4"},In={class:"flex items-start gap-3 p-3 bg-red-900/20 rounded-lg"},On={class:"text-sm text-red-400/80"},Ln={class:"text-red-300"},Bn={class:"flex gap-3"},Rn={class:"mt-8"},Yn={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},qn={class:"sm:w-1/2 space-y-1"},Xn={class:"sm:w-1/2 flex sm:justify-end"},Gn={class:"space-y-4"},Jn={class:"flex items-center gap-2 text-sm text-zinc-400"},Wn={class:"font-mono"},Qn={key:0,class:"py-8 text-center text-zinc-500"},Zn={key:1,class:"py-8 text-center text-red-400"},el={key:2,class:"max-h-64 overflow-y-auto space-y-1"},tl=["onClick"],sl={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},nl={key:0,class:"mt-1 text-sm text-red-400"},ll={key:0},ol=["value","data-name"],al={key:0,class:"mt-1 text-sm text-red-400"},il={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},rl={key:0,class:"mt-1 text-sm text-red-400"},dl={key:0,class:"mt-1 text-sm text-red-400"},cl={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},zl=zt({__name:"Configuration",props:{environment:{},remoteApiUrl:{},editor:{},editorOptions:{},sshKeys:{},availableSshKeys:{},templateFavorites:{},notificationsEnabled:{type:Boolean},menuBarEnabled:{type:Boolean}},setup(w){const f=w,ge=Vt(),de=le(()=>ge.props.multi_environment),Ie=le(()=>ge.props.orbit_version||"unknown"),we=document.querySelector('meta[name="csrf-token"]')?.content||"",Oe=le(()=>[{id:"configuration",label:"Configuration",icon:Tt},{id:"dns",label:"DNS",icon:Ht},{id:"templates",label:"Templates",icon:Ke},{id:"advanced",label:"Advanced",icon:Ot}]),A=v("configuration"),q=le(()=>!f.environment.is_local&&f.remoteApiUrl),x=H({name:f.environment.name,host:f.environment.host,user:f.environment.user,port:f.environment.port,editor_scheme:f.editor.scheme}),X=v(!1),j=v(null),G=v(!1),ke=v(null),ce=v(!0),J=v(!1),S=v([]),M=v(""),W=v("8.4"),ze=v(["8.3","8.4","8.5"]),Q=v(!1),U=v(""),Ce=v("test"),K=v(!1),C=v(null),$=v(null),N=v(new Set),Le={ssh:"SSH Connection",cli:"CLI Installation",docker:"Docker Services",api:"API Connectivity",environment_dns:"Environment DNS",local_dns:"Local DNS",config:"Configuration"};function Be(i){N.value.has(i)?N.value.delete(i):N.value.add(i)}const I=v(new Set);async function Se(){K.value=!0,$.value=null,C.value=null;try{const e=await(await fetch(`/environments/${f.environment.id}/doctor`)).json();e.success?C.value=e:$.value=e.error||"Health check failed"}catch{$.value="Failed to run health check"}finally{K.value=!1}}async function Re(i){I.value.add(i);try{const l=await(await fetch(`/environments/${f.environment.id}/doctor/fix/${i}`,{method:"POST",headers:{"X-CSRF-TOKEN":we,"Content-Type":"application/json"}})).json();l.success?await Se():$.value=l.message||"Failed to fix issue"}catch{$.value="Failed to fix issue"}finally{I.value.delete(i)}}async function Ye(){if(!(!q.value||!f.remoteApiUrl)){X.value=!0,j.value=null;try{const e=await(await fetch(`${f.remoteApiUrl}/instance-info`)).json();e.success&&e.data?x.name=e.data.name:j.value=e.error||"Failed to load instance info"}catch{j.value="Failed to connect to remote environment"}finally{X.value=!1}}}async function qe(){if(f.remoteApiUrl){G.value=!0,j.value=null;try{const e=await(await fetch(`${f.remoteApiUrl}/instance-info`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name})})).json();e.success||(j.value=e.error||"Failed to update name")}catch{j.value="Failed to connect to remote environment"}finally{G.value=!1}}}async function Xe(){ce.value=!0;try{const e=await(await fetch(`/api/environments/${f.environment.id}/config`)).json();e.success&&(ke.value=e.data,S.value=[...e.data.paths||[]],S.value.length===0&&S.value.push(""),M.value=e.data.tld||"test",W.value=e.data.default_php_version||"8.4",Ce.value=e.data.tld||"test",e.data.available_php_versions?.length&&(ze.value=e.data.available_php_versions))}catch(i){console.error("Failed to load config:",i)}finally{ce.value=!1}}async function Ge(){q.value&&await qe(),x.post(`/environments/${f.environment.id}/settings`)}function Je(){S.value.push("")}function We(i){S.value.splice(i,1)}const ue=v(!1),Z=v(null),O=v("~"),Ve=v([]),me=v(null),ve=v(!1),L=v(null);async function Qe(i){Z.value=i,O.value=S.value[i]||"~",ue.value=!0,await Te(O.value)}async function Te(i){ve.value=!0,L.value=null;try{const l=await(await fetch(`/environments/${f.environment.id}/browse-directories?path=${encodeURIComponent(i)}`)).json();l.success?(O.value=l.data.current,Ve.value=l.data.directories,me.value=l.data.parent):L.value=l.error||"Failed to load directories"}catch{L.value="Failed to load directories"}finally{ve.value=!1}}function je(i){Te(i)}function Ze(){Z.value!==null&&(S.value[Z.value]=O.value),pe()}function pe(){ue.value=!1,Z.value=null}async function et(){const i=S.value.filter(e=>e.trim()!=="");if(i.length===0){Y.error("Please add at least one site path");return}J.value=!0;try{const l=await(await fetch(`/environments/${f.environment.id}/config`,{method:"POST",headers:{"X-CSRF-TOKEN":we,"Content-Type":"application/json"},body:JSON.stringify({paths:i,tld:M.value.trim()||"test",default_php_version:W.value})})).json();l.success?(ke.value=l.data,Ce.value=M.value.trim()||"test",Y.success("Configuration saved")):Y.error("Failed to save config",{description:l.error||"Unknown error"})}catch{Y.error("Failed to save config")}finally{J.value=!1}}function tt(){Q.value=!0,U.value=""}function st(){Q.value=!1,U.value=""}function nt(){U.value===f.environment.name&&ae.delete(`/environments/${f.environment.id}`,{onSuccess:()=>{}})}Ct(()=>{Xe(),q.value&&Ye()});const D=H({external_access:f.environment.external_access??!1,external_host:f.environment.external_host??""}),lt=()=>{D.post(`/environments/${f.environment.id}/configuration/external-access`)},ee=v(!1),P=v(null),_=H({name:"",public_key:""}),ot=()=>{P.value=null,_.reset(),ee.value=!0},at=i=>{P.value=i,_.name=i.name,_.public_key=i.public_key,ee.value=!0},te=()=>{ee.value=!1,P.value=null,_.reset()},it=()=>{P.value?_.put(`/ssh-keys/${P.value.id}`,{onSuccess:te}):_.post("/ssh-keys",{onSuccess:te})},rt=i=>{confirm("Delete this SSH key?")&&ae.delete(`/ssh-keys/${i.id}`)},dt=i=>{ae.post(`/ssh-keys/${i.id}/default`)},ct=async i=>{await navigator.clipboard.writeText(i.public_key),Y.success("Copied to clipboard")},ut=i=>{const l=i.target.selectedOptions[0];if(l.value){_.public_key=l.value;const m=l.dataset.name;m&&!_.name&&(_.name=m)}},mt=(i,e=80)=>i.length>e?i.substring(0,e)+"...":i,se=v(!1),E=v(null),h=H({repo_url:"",display_name:""}),vt=()=>{E.value=null,h.reset(),se.value=!0},pt=i=>{E.value=i,h.repo_url=i.repo_url,h.display_name=i.display_name,se.value=!0},ne=()=>{se.value=!1,E.value=null,h.reset()},ft=()=>{E.value?h.put(`/template-favorites/${E.value.id}`,{onSuccess:ne}):h.post("/template-favorites",{onSuccess:ne})},xt=i=>{confirm("Delete this template?")&&ae.delete(`/template-favorites/${i.id}`)},yt=i=>{const e=i.match(/(?:github\.com\/)?([^/]+)\/([^/]+)/);return e?e[2]:i},ht=()=>{!E.value&&h.repo_url&&!h.display_name&&(h.display_name=yt(h.repo_url))},_t=i=>{const e=i.startsWith("http")?i:`https://github.com/${i}`;window.open(e,"_blank")},B=H({enabled:f.notificationsEnabled}),bt=()=>{B.enabled=!B.enabled,B.post("/settings/notifications")},R=H({enabled:f.menuBarEnabled}),gt=()=>{R.enabled=!R.enabled,R.post("/settings/menu-bar")};return(i,e)=>(o(),r(b,null,[n(t(St),{title:`Configuration - ${w.environment.name}`},null,8,["title"]),s("div",Lt,[s("aside",Bt,[s("div",Rt,[s("div",Yt,[e[15]||(e[15]=s("h1",{class:"text-lg font-semibold text-white"},"Configuration",-1)),s("p",qt,c(w.environment.name),1)]),s("nav",Xt,[(o(!0),r(b,null,V(Oe.value,l=>(o(),r("button",{key:l.id,type:"button",onClick:m=>A.value=l.id,class:De(["flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",A.value===l.id?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-800/50 hover:text-white"])},[(o(),g(jt(l.icon),{class:"h-4 w-4"})),d(" "+c(l.label),1)],10,Gt))),128))])])]),s("main",Jt,[s("div",Wt,[A.value==="configuration"?(o(),r("div",Qt,[s("form",{onSubmit:oe(Ge,["prevent"])},[s("div",Zt,[s("div",es,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[16]||(e[16]=[d("Environment Name",-1)])]),_:1}),s("p",ts,[e[19]||(e[19]=d(" Display name for this environment. ",-1)),q.value?(o(),r(b,{key:0},[e[17]||(e[17]=s("br",null,null,-1)),e[18]||(e[18]=s("span",{class:"text-zinc-600"},"Changes will be synced to the remote environment.",-1))],64)):u("",!0)])]),s("div",ss,[s("div",ns,[n(t(T),{modelValue:t(x).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(x).name=l),type:"text",class:"w-full",disabled:X.value},null,8,["modelValue","disabled"]),X.value?(o(),g(t(ie),{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-zinc-500"})):u("",!0)]),t(x).errors.name?(o(),r("p",ls,c(t(x).errors.name),1)):u("",!0),j.value?(o(),r("p",os,c(j.value),1)):u("",!0)])]),n(t(z),{class:"bg-zinc-800"}),s("div",as,[s("div",is,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[20]||(e[20]=[d("Code Editor",-1)])]),_:1}),e[21]||(e[21]=s("p",{class:"text-xs text-zinc-500"},"Select your preferred editor for opening files.",-1))]),s("div",rs,[n(t(Ae),{modelValue:t(x).editor_scheme,"onUpdate:modelValue":e[1]||(e[1]=l=>t(x).editor_scheme=l)},{default:a(()=>[n(t($e),{class:"w-full"},{default:a(()=>[n(t(Pe),{placeholder:"Select editor"})]),_:1}),n(t(Ee),null,{default:a(()=>[(o(!0),r(b,null,V(w.editorOptions,(l,m)=>(o(),g(t(Fe),{key:m,value:m},{default:a(()=>[d(c(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),w.environment.is_local?u("",!0):(o(),r(b,{key:0},[n(t(z),{class:"bg-zinc-800"}),s("div",ds,[s("div",cs,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[22]||(e[22]=[d("SSH Connection",-1)])]),_:1}),e[23]||(e[23]=s("p",{class:"text-xs text-zinc-500"},"Host, user, and port for SSH access.",-1))]),s("div",us,[s("div",ms,[n(t(y),{class:"text-xs text-zinc-500"},{default:a(()=>[...e[24]||(e[24]=[d("Host",-1)])]),_:1}),n(t(T),{modelValue:t(x).host,"onUpdate:modelValue":e[2]||(e[2]=l=>t(x).host=l),type:"text",class:"font-mono"},null,8,["modelValue"]),t(x).errors.host?(o(),r("p",vs,c(t(x).errors.host),1)):u("",!0)]),s("div",ps,[s("div",fs,[n(t(y),{class:"text-xs text-zinc-500"},{default:a(()=>[...e[25]||(e[25]=[d("User",-1)])]),_:1}),n(t(T),{modelValue:t(x).user,"onUpdate:modelValue":e[3]||(e[3]=l=>t(x).user=l),type:"text",class:"font-mono"},null,8,["modelValue"]),t(x).errors.user?(o(),r("p",xs,c(t(x).errors.user),1)):u("",!0)]),s("div",ys,[n(t(y),{class:"text-xs text-zinc-500"},{default:a(()=>[...e[26]||(e[26]=[d("Port",-1)])]),_:1}),n(t(T),{modelValue:t(x).port,"onUpdate:modelValue":e[4]||(e[4]=l=>t(x).port=l),type:"number",class:"font-mono"},null,8,["modelValue"]),t(x).errors.port?(o(),r("p",hs,c(t(x).errors.port),1)):u("",!0)])])])])],64)),n(t(z),{class:"bg-zinc-800"}),s("div",_s,[n(t(p),{type:"submit",disabled:t(x).processing||G.value,class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:a(()=>[d(c(t(x).processing||G.value?"Saving...":"Save Environment"),1)]),_:1},8,["disabled"])])],32),n(t(z),{class:"bg-zinc-800 my-4"}),ce.value?(o(),r("div",bs,[n(t(ie),{class:"w-4 h-4 inline animate-spin mr-2"}),e[27]||(e[27]=d(" Loading configuration... ",-1))])):(o(),r(b,{key:1},[s("div",gs,[s("div",ws,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[28]||(e[28]=[d("Project Paths",-1)])]),_:1}),e[29]||(e[29]=s("p",{class:"text-xs text-zinc-500"},"Directories where your projects are located.",-1))]),s("div",ks,[(o(!0),r(b,null,V(S.value,(l,m)=>(o(),r("div",{key:m,class:"flex items-center gap-2"},[n(t(T),{modelValue:S.value[m],"onUpdate:modelValue":k=>S.value[m]=k,type:"text",placeholder:"/home/user/projects",class:"flex-1 font-mono text-sm"},null,8,["modelValue","onUpdate:modelValue"]),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:k=>Qe(m),title:"Browse directories"},{default:a(()=>[n(t(re),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:k=>We(m),class:"hover:text-red-400"},{default:a(()=>[n(t(be),{class:"w-4 h-4"})]),_:1},8,["onClick"])]))),128)),n(t(p),{type:"button",variant:"outline",size:"sm",onClick:Je},{default:a(()=>[n(t(xe),{class:"w-4 h-4 mr-2"}),e[30]||(e[30]=d(" Add path ",-1))]),_:1})])]),n(t(z),{class:"bg-zinc-800"}),s("div",zs,[s("div",Cs,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[31]||(e[31]=[d("TLD",-1)])]),_:1}),e[32]||(e[32]=s("p",{class:"text-xs text-zinc-500"},"Top-level domain for local projects.",-1))]),s("div",Ss,[n(t(T),{modelValue:M.value,"onUpdate:modelValue":e[5]||(e[5]=l=>M.value=l),type:"text",placeholder:"test",class:"font-mono"},null,8,["modelValue"])])]),n(t(z),{class:"bg-zinc-800"}),s("div",Vs,[s("div",Ts,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[33]||(e[33]=[d("Default PHP Version",-1)])]),_:1}),e[34]||(e[34]=s("p",{class:"text-xs text-zinc-500"},"PHP version used for new projects.",-1))]),s("div",js,[n(t(Ae),{modelValue:W.value,"onUpdate:modelValue":e[6]||(e[6]=l=>W.value=l)},{default:a(()=>[n(t($e),{class:"w-full"},{default:a(()=>[n(t(Pe),{placeholder:"Select PHP version"})]),_:1}),n(t(Ee),null,{default:a(()=>[(o(!0),r(b,null,V(ze.value,l=>(o(),g(t(Fe),{key:l,value:l},{default:a(()=>[d(" PHP "+c(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),n(t(z),{class:"bg-zinc-800"}),s("div",Ds,[n(t(p),{type:"button",onClick:et,disabled:J.value,class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:a(()=>[d(c(J.value?"Saving...":"Save Configuration"),1)]),_:1},8,["disabled"])])],64)),n(t(z),{class:"bg-zinc-800 my-4"}),s("div",$s,[s("div",Ps,[s("div",Es,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[35]||(e[35]=[d("External Access",-1)])]),_:1}),e[36]||(e[36]=s("p",{class:"text-xs text-zinc-500"},"Enable SSH links for external access.",-1))]),s("div",Fs,[n(t(he),{checked:t(D).external_access,"onUpdate:checked":e[7]||(e[7]=l=>t(D).external_access=l)},null,8,["checked"])])]),t(D).external_access?(o(),r("div",As,[n(t(z),{class:"bg-zinc-800"}),s("div",Us,[s("div",Hs,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[37]||(e[37]=[d("External Host / IP",-1)])]),_:1}),e[38]||(e[38]=s("p",{class:"text-xs text-zinc-500"},"The hostname or IP address external users will use to connect via SSH.",-1))]),s("div",Ms,[n(t(T),{modelValue:t(D).external_host,"onUpdate:modelValue":e[8]||(e[8]=l=>t(D).external_host=l),type:"text",placeholder:"e.g. 192.168.1.100 or myserver.example.com",class:"font-mono"},null,8,["modelValue"])])])])):u("",!0),s("div",Ks,[n(t(p),{type:"button",onClick:lt,disabled:t(D).processing,class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:a(()=>[d(c(t(D).processing?"Saving...":"Save External Access"),1)]),_:1},8,["disabled"])])]),de.value?(o(),r(b,{key:2},[n(t(z),{class:"bg-zinc-800 my-4"}),s("div",Ns,[s("div",Is,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[39]||(e[39]=[d("SSH Keys",-1)])]),_:1}),e[40]||(e[40]=s("p",{class:"text-xs text-zinc-500 mt-1"},"Manage SSH keys for environment provisioning.",-1))]),s("div",Os,[w.sshKeys.length===0?(o(),r("div",Ls,[n(t(Nt),{class:"w-12 h-12 mx-auto mb-3 text-zinc-600"}),e[41]||(e[41]=s("p",{class:"text-sm"},"No SSH keys configured.",-1))])):u("",!0),(o(!0),r(b,null,V(w.sshKeys,l=>(o(),r("div",{key:l.id,class:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800/50 p-4"},[s("div",null,[s("div",Bs,[s("p",Rs,c(l.name),1),l.is_default?(o(),g(t(_e),{key:0,class:"text-xs bg-lime-400/15 text-lime-400 border-0"},{default:a(()=>[...e[42]||(e[42]=[d(" Default ",-1)])]),_:1})):u("",!0)]),s("p",Ys,c(mt(l.public_key,50)),1)]),s("div",qs,[n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>ct(l),title:"Copy"},{default:a(()=>[n(t(Mt),{class:"w-4 h-4"})]),_:1},8,["onClick"]),l.is_default?u("",!0):(o(),g(t(p),{key:0,type:"button",variant:"ghost",size:"icon",onClick:m=>dt(l),class:"hover:text-lime-400",title:"Set default"},{default:a(()=>[n(t(It),{class:"w-4 h-4"})]),_:1},8,["onClick"])),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>at(l),title:"Edit"},{default:a(()=>[n(t(He),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>rt(l),class:"hover:text-red-400",title:"Delete"},{default:a(()=>[n(t(be),{class:"w-4 h-4"})]),_:1},8,["onClick"])])]))),128)),n(t(p),{type:"button",variant:"outline",size:"sm",onClick:ot,class:"mt-2"},{default:a(()=>[n(t(xe),{class:"w-4 h-4 mr-2"}),e[43]||(e[43]=d(" Add SSH Key ",-1))]),_:1})])])],64)):u("",!0)])):u("",!0),A.value==="dns"?(o(),r("div",Xs,[n(Ft,{"environment-id":w.environment.id},null,8,["environment-id"])])):u("",!0),A.value==="templates"?(o(),r("div",Gs,[s("div",Js,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[44]||(e[44]=[d("Template Favorites",-1)])]),_:1}),e[45]||(e[45]=s("p",{class:"text-xs text-zinc-500 mt-1"},"Manage your favorite project templates.",-1))]),s("div",Ws,[w.templateFavorites.length===0?(o(),r("div",Qs,[n(t(Ke),{class:"w-12 h-12 mx-auto mb-3 text-zinc-600"}),e[46]||(e[46]=s("p",{class:"text-sm"},"No template favorites yet.",-1))])):u("",!0),(o(!0),r(b,null,V(w.templateFavorites,l=>(o(),r("div",{key:l.id,class:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800/50 p-4"},[s("div",null,[s("div",Zs,[s("p",en,c(l.display_name),1),l.usage_count>0?(o(),g(t(_e),{key:0,variant:"secondary",class:"text-xs"},{default:a(()=>[d(" Used "+c(l.usage_count)+"x ",1)]),_:2},1024)):u("",!0)]),s("p",tn,c(l.repo_url),1)]),s("div",sn,[n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>_t(l.repo_url),title:"Open on GitHub"},{default:a(()=>[n(t(Dt),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>pt(l),title:"Edit"},{default:a(()=>[n(t(He),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(p),{type:"button",variant:"ghost",size:"icon",onClick:m=>xt(l),class:"hover:text-red-400",title:"Delete"},{default:a(()=>[n(t(be),{class:"w-4 h-4"})]),_:1},8,["onClick"])])]))),128)),n(t(p),{type:"button",variant:"outline",size:"sm",onClick:vt,class:"mt-2"},{default:a(()=>[n(t(xe),{class:"w-4 h-4 mr-2"}),e[47]||(e[47]=d(" Add Template ",-1))]),_:1})])])):u("",!0),A.value==="advanced"?(o(),r("div",nn,[de.value?(o(),r("div",ln,[s("div",on,[s("div",an,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[48]||(e[48]=[d("Desktop Notifications",-1)])]),_:1}),e[49]||(e[49]=s("p",{class:"text-xs text-zinc-500"},"Show system notifications for site events.",-1))]),s("div",rn,[n(t(he),{checked:t(B).enabled,"onUpdate:checked":bt,disabled:t(B).processing},null,8,["checked","disabled"])])]),n(t(z),{class:"bg-zinc-800"}),s("div",dn,[s("div",cn,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[50]||(e[50]=[d("Menu Bar Icon",-1)])]),_:1}),e[51]||(e[51]=s("p",{class:"text-xs text-zinc-500"},"Show Orbit icon in menu bar.",-1))]),s("div",un,[n(t(he),{checked:t(R).enabled,"onUpdate:checked":gt,disabled:t(R).processing},null,8,["checked","disabled"])])]),n(t(z),{class:"bg-zinc-800"})])):u("",!0),s("div",mn,[s("div",vn,[s("div",pn,[n(t(Ne),{class:"h-5 w-5 text-lime-400"})]),s("div",fn,[C.value?(o(),r("p",xn,c(C.value.status==="healthy"?"All Systems Operational":C.value.status==="degraded"?"Some Warnings":"Issues Found"),1)):(o(),r("p",yn,"Health Check")),s("p",hn,c(C.value?"Last checked: Just now":"Run diagnostics to check health"),1)]),n(t(p),{type:"button",variant:"secondary",size:"sm",onClick:Se,disabled:K.value},{default:a(()=>[K.value?(o(),g(t(Ut),{key:0,class:"w-4 h-4 animate-spin mr-2"})):(o(),g(t(Ne),{key:1,class:"w-4 h-4 mr-2"})),d(" "+c(K.value?"Running...":"Run Check"),1)]),_:1},8,["disabled"])]),$.value?(o(),r("div",_n,[s("div",bn,[n(t(Me),{class:"w-5 h-5"}),s("span",null,c($.value),1)])])):u("",!0),C.value?(o(),r("div",gn,[s("div",wn,[s("span",kn,c(C.value.summary.passed)+" passed",1),C.value.summary.warnings>0?(o(),r("span",zn,c(C.value.summary.warnings)+" warnings ",1)):u("",!0),C.value.summary.errors>0?(o(),r("span",Cn,c(C.value.summary.errors)+" errors ",1)):u("",!0)]),(o(!0),r(b,null,V(C.value.checks,(l,m)=>(o(),r("div",{key:m,class:"border border-zinc-700/50 rounded-lg overflow-hidden"},[s("button",{type:"button",onClick:k=>Be(m),class:"w-full flex items-center justify-between p-3 bg-zinc-800/30 hover:bg-zinc-700/30 transition-colors text-left"},[s("div",Vn,[l.status==="ok"?(o(),g(t(Kt),{key:0,class:"w-5 h-5 text-lime-400"})):l.status==="warning"?(o(),g(t(Ue),{key:1,class:"w-5 h-5 text-amber-400"})):(o(),g(t(Me),{key:2,class:"w-5 h-5 text-red-400"})),s("div",null,[s("span",Tn,c(Le[m]||m),1),s("p",jn,c(l.message),1)])]),s("div",Dn,[l.status==="error"&&l.details?.can_fix?(o(),g(t(p),{key:0,onClick:oe(k=>Re(m),["stop"]),disabled:I.value.has(m),variant:"secondary",size:"sm"},{default:a(()=>[I.value.has(m)?(o(),g(t(ie),{key:0,class:"w-3 h-3 animate-spin mr-1"})):u("",!0),d(" "+c(I.value.has(m)?"Fixing...":"Fix"),1)]),_:2},1032,["onClick","disabled"])):u("",!0),l.details&&Object.keys(l.details).length>0?(o(),g(t($t),{key:1,class:De(["w-4 h-4 text-zinc-500 transition-transform",N.value.has(m)?"rotate-180":""])},null,8,["class"])):u("",!0)])],8,Sn),N.value.has(m)&&l.details&&Object.keys(l.details).filter(k=>k!=="can_fix").length>0?(o(),r("div",$n,[s("dl",Pn,[(o(!0),r(b,null,V(l.details,(k,fe)=>Pt((o(),r("div",{key:fe,class:"flex"},[s("dt",En,c(fe),1),s("dd",Fn,[Array.isArray(k)?(o(!0),r(b,{key:0},V(k,(wt,kt)=>(o(),r("span",{key:kt,class:"block"},c(wt),1))),128)):typeof k=="object"&&k!==null?(o(),r("pre",An,c(JSON.stringify(k,null,2)),1)):(o(),r(b,{key:2},[d(c(k),1)],64))])])),[[Et,fe!=="can_fix"]])),128))])])):u("",!0)]))),128))])):u("",!0)]),de.value?(o(),r("div",Un,[n(t(z),{class:"bg-zinc-800 mb-6"}),s("div",Hn,[s("div",Mn,[s("div",Kn,[e[53]||(e[53]=s("div",null,[s("p",{class:"text-sm font-medium text-white"},"Delete Environment"),s("p",{class:"text-xs text-zinc-500"},"Permanently delete this environment.")],-1)),Q.value?u("",!0):(o(),g(t(p),{key:0,type:"button",variant:"destructive",size:"sm",onClick:tt},{default:a(()=>[...e[52]||(e[52]=[d(" Delete ",-1)])]),_:1}))]),Q.value?(o(),r("div",Nn,[s("div",In,[n(t(Ue),{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s("div",null,[e[56]||(e[56]=s("p",{class:"text-sm text-red-300 font-medium"},"Are you sure?",-1)),s("p",On,[e[54]||(e[54]=d(" Type ",-1)),s("strong",Ln,c(w.environment.name),1),e[55]||(e[55]=d(" to confirm. ",-1))])])]),n(t(T),{modelValue:U.value,"onUpdate:modelValue":e[9]||(e[9]=l=>U.value=l),type:"text",placeholder:"Type environment name",class:"w-full"},null,8,["modelValue"]),s("div",Bn,[n(t(p),{type:"button",variant:"destructive",size:"sm",onClick:nt,disabled:U.value!==w.environment.name},{default:a(()=>[...e[57]||(e[57]=[d(" Delete ",-1)])]),_:1},8,["disabled"]),n(t(p),{type:"button",variant:"outline",size:"sm",onClick:st},{default:a(()=>[...e[58]||(e[58]=[d(" Cancel ",-1)])]),_:1})])])):u("",!0)])])])):u("",!0),s("div",Rn,[n(t(z),{class:"bg-zinc-800 mb-6"}),s("div",Yn,[s("div",qn,[n(t(y),{class:"text-sm font-medium text-white"},{default:a(()=>[...e[59]||(e[59]=[d("Orbit Version",-1)])]),_:1}),e[60]||(e[60]=s("p",{class:"text-xs text-zinc-500"},"Current version of Orbit.",-1))]),s("div",Xn,[n(t(_e),{variant:"secondary",class:"font-mono text-xs"},{default:a(()=>[d(c(Ie.value),1)]),_:1})])])])])):u("",!0)])])]),n(ye,{show:ue.value,title:"Select Directory",onClose:pe},{default:a(()=>[s("div",Gn,[s("div",Jn,[n(t(re),{class:"w-4 h-4"}),s("span",Wn,c(O.value),1)]),ve.value?(o(),r("div",Qn,[n(t(ie),{class:"w-6 h-6 animate-spin mx-auto"})])):L.value?(o(),r("div",Zn,c(L.value),1)):(o(),r("div",el,[me.value?(o(),r("button",{key:0,type:"button",onClick:e[10]||(e[10]=l=>je(me.value)),class:"w-full flex items-center gap-2 px-3 py-2 rounded-md hover:bg-zinc-800 text-left text-sm text-zinc-400"},[n(t(re),{class:"w-4 h-4"}),e[61]||(e[61]=d(" .. ",-1))])):u("",!0),(o(!0),r(b,null,V(Ve.value,l=>(o(),r("button",{key:l.path,type:"button",onClick:m=>je(l.path),class:"w-full flex items-center gap-2 px-3 py-2 rounded-md hover:bg-zinc-800 text-left text-sm text-white"},[n(t(re),{class:"w-4 h-4 text-zinc-400"}),d(" "+c(l.name),1)],8,tl))),128))])),s("div",sl,[n(t(p),{type:"button",variant:"outline",onClick:pe},{default:a(()=>[...e[62]||(e[62]=[d("Cancel",-1)])]),_:1}),n(t(p),{type:"button",onClick:Ze},{default:a(()=>[...e[63]||(e[63]=[d("Select This Directory",-1)])]),_:1})])])]),_:1},8,["show"]),n(ye,{show:ee.value,title:P.value?"Edit SSH Key":"Add SSH Key",onClose:te},{default:a(()=>[s("form",{onSubmit:oe(it,["prevent"]),class:"space-y-4"},[s("div",null,[n(t(y),{class:"text-sm font-medium text-white mb-1.5"},{default:a(()=>[...e[64]||(e[64]=[d("Name",-1)])]),_:1}),n(t(T),{modelValue:t(_).name,"onUpdate:modelValue":e[11]||(e[11]=l=>t(_).name=l),type:"text",placeholder:"e.g. 1password"},null,8,["modelValue"]),t(_).errors.name?(o(),r("p",nl,c(t(_).errors.name),1)):u("",!0)]),!P.value&&Object.keys(w.availableSshKeys).length>0?(o(),r("div",ll,[n(t(y),{class:"text-sm font-medium text-white mb-1.5"},{default:a(()=>[...e[65]||(e[65]=[d("Import from system",-1)])]),_:1}),s("select",{onChange:ut,class:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white"},[e[66]||(e[66]=s("option",{value:""},"Select a key to import...",-1)),(o(!0),r(b,null,V(w.availableSshKeys,(l,m)=>(o(),r("option",{key:m,value:l.content,"data-name":m},c(m)+" ("+c(l.type)+") ",9,ol))),128))],32)])):u("",!0),s("div",null,[n(t(y),{class:"text-sm font-medium text-white mb-1.5"},{default:a(()=>[...e[67]||(e[67]=[d("Public Key",-1)])]),_:1}),n(t(At),{modelValue:t(_).public_key,"onUpdate:modelValue":e[12]||(e[12]=l=>t(_).public_key=l),placeholder:"ssh-ed25519 AAAA...",rows:"4",class:"font-mono text-xs"},null,8,["modelValue"]),t(_).errors.public_key?(o(),r("p",al,c(t(_).errors.public_key),1)):u("",!0)]),s("div",il,[n(t(p),{type:"button",variant:"outline",onClick:te},{default:a(()=>[...e[68]||(e[68]=[d("Cancel",-1)])]),_:1}),n(t(p),{type:"submit",disabled:t(_).processing},{default:a(()=>[d(c(t(_).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"]),n(ye,{show:se.value,title:E.value?"Edit Template":"Add Template",onClose:ne},{default:a(()=>[s("form",{onSubmit:oe(ft,["prevent"]),class:"space-y-4"},[s("div",null,[n(t(y),{class:"text-sm font-medium text-white mb-1.5"},{default:a(()=>[...e[69]||(e[69]=[d("Repository URL",-1)])]),_:1}),n(t(T),{modelValue:t(h).repo_url,"onUpdate:modelValue":e[13]||(e[13]=l=>t(h).repo_url=l),type:"text",placeholder:"owner/repo or https://github.com/owner/repo",onInput:ht},null,8,["modelValue"]),t(h).errors.repo_url?(o(),r("p",rl,c(t(h).errors.repo_url),1)):u("",!0)]),s("div",null,[n(t(y),{class:"text-sm font-medium text-white mb-1.5"},{default:a(()=>[...e[70]||(e[70]=[d("Display Name",-1)])]),_:1}),n(t(T),{modelValue:t(h).display_name,"onUpdate:modelValue":e[14]||(e[14]=l=>t(h).display_name=l),type:"text",placeholder:"My Template"},null,8,["modelValue"]),t(h).errors.display_name?(o(),r("p",dl,c(t(h).errors.display_name),1)):u("",!0)]),s("div",cl,[n(t(p),{type:"button",variant:"outline",onClick:ne},{default:a(()=>[...e[71]||(e[71]=[d("Cancel",-1)])]),_:1}),n(t(p),{type:"submit",disabled:t(h).processing},{default:a(()=>[d(c(t(h).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"])],64))}});export{zl as default};
