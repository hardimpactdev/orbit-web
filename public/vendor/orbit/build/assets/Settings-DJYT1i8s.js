import{c as be,d as zt,k as A,B as St,z as pe,m as Vt,a as i,h as n,b as s,u as t,i as Dt,t as c,F as b,j as V,g as u,r as p,q as le,w as r,e as d,f as _,o,P as ve,S as Et,E as Te,M as Tt,I as B,y as oe,K as Pt,n as Pe,x as $t,X as jt,s as Ft,G as Ut}from"./app-DiMZxkRm.js";import{_ as At}from"./DnsSettings.vue_vue_type_script_setup_true_lang-BtssT_uN.js";import{_ as fe}from"./Modal.vue_vue_type_script_setup_true_lang-3JyK5hnx.js";import{X as g,Y as D,n as P,e as $e,f as je,g as Fe,B as Ue,$ as Ae,I as v,H as xe,V as Ht,D as He}from"./craft-ui-CGsjg9tx.js";import{L as ae}from"./loader-circle-CyQlpWW1.js";import{F as Ke,K as Me,S as Kt}from"./star-s6KKVIjn.js";import{R as Mt}from"./refresh-cw-vLqDcVy_.js";import{T as ye}from"./triangle-alert-qgd4S1qN.js";import{F as Y}from"./folder-open-CLmT-HlS.js";import{G as Nt}from"./globe-Bxy01407.js";import{T as he}from"./trash-2-ye9NKytT.js";import{P as Ne}from"./pencil-CW6N-jJU.js";import{C as It}from"./copy-Cd_-b2hx.js";import"./circle-alert-CR3SfrDI.js";const Ot=be("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Ie=be("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const ge=be("stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]),Lt={class:"flex h-full"},Rt={class:"sticky top-0 h-screen w-52 shrink-0 border-r border-zinc-800 bg-zinc-950"},Bt={class:"flex h-full flex-col"},Yt={class:"p-6"},qt={class:"text-sm text-zinc-400"},Xt={class:"flex-1 space-y-1 px-3"},Gt=["onClick"],Jt={class:"flex-1 p-6 lg:p-8 overflow-auto"},Wt={class:"max-w-2xl mx-auto"},Zt={key:0},Qt={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},es={class:"sm:w-1/2 space-y-1"},ts={class:"text-xs text-zinc-500"},ss={class:"sm:w-1/2"},ns={class:"relative"},ls={key:0,class:"mt-2 text-sm text-red-400"},os={key:1,class:"mt-2 text-sm text-amber-400"},as={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},is={class:"sm:w-1/2 space-y-1"},rs={class:"sm:w-1/2"},ds={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},cs={class:"sm:w-1/2 space-y-1"},us={class:"sm:w-1/2 space-y-3"},ms={class:"space-y-1.5"},ps={key:0,class:"text-sm text-red-400"},vs={class:"grid grid-cols-2 gap-3"},fs={class:"space-y-1.5"},xs={key:0,class:"text-sm text-red-400"},ys={class:"space-y-1.5"},hs={key:0,class:"text-sm text-red-400"},gs={class:"flex justify-end py-6"},bs={key:1},_s={key:0,class:"text-zinc-500 text-sm py-6"},ws={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},ks={class:"sm:w-1/2 space-y-1"},Cs={class:"sm:w-1/2 space-y-2"},zs={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Ss={class:"sm:w-1/2 space-y-1"},Vs={class:"sm:w-1/2"},Ds={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Es={class:"sm:w-1/2 space-y-1"},Ts={class:"sm:w-1/2"},Ps={class:"flex justify-end py-6"},$s={key:2},js={key:3},Fs={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},Us={class:"sm:w-1/2 space-y-1"},As={class:"sm:w-1/2 flex sm:justify-end"},Hs={key:0,class:"space-y-4 py-4"},Ks={class:"flex flex-col sm:flex-row sm:items-start gap-4 py-6"},Ms={class:"sm:w-1/2 space-y-1"},Ns={class:"sm:w-1/2 space-y-3"},Is={key:4},Os={class:"space-y-3"},Ls={key:0,class:"text-center py-12 text-zinc-500"},Rs={class:"flex items-center gap-2"},Bs={class:"text-sm font-medium text-white"},Ys={class:"text-xs font-mono text-zinc-500 mt-1"},qs={class:"flex items-center gap-1"},Xs={key:5},Gs={class:"space-y-3"},Js={key:0,class:"text-center py-12 text-zinc-500"},Ws={class:"flex items-center gap-2"},Zs={class:"text-sm font-medium text-white"},Qs={class:"text-xs font-mono text-zinc-500 mt-1 truncate max-w-md"},en={class:"flex items-center gap-1"},tn={key:6},sn={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},nn={class:"sm:w-1/2 space-y-1"},ln={class:"sm:w-1/2 flex sm:justify-end"},on={class:"flex flex-col sm:flex-row sm:items-center gap-4 py-6"},an={class:"sm:w-1/2 space-y-1"},rn={class:"sm:w-1/2 flex sm:justify-end"},dn={key:7},cn={class:"flex items-center gap-4 py-6"},un={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-lime-400/15"},mn={class:"flex-1"},pn={key:0,class:"text-sm font-medium text-white"},vn={key:1,class:"text-sm font-medium text-white"},fn={class:"text-xs text-zinc-500"},xn={key:0,class:"p-4 bg-red-900/20 border border-red-800 rounded-lg mb-4"},yn={class:"flex items-center gap-2 text-red-400"},hn={key:1,class:"space-y-2 mt-6"},gn={class:"flex items-center gap-4 mb-4 text-sm"},bn={class:"text-lime-400"},_n={key:0,class:"text-amber-400"},wn={key:1,class:"text-red-400"},kn=["onClick"],Cn={class:"flex items-center gap-3"},zn={class:"text-white font-medium"},Sn={class:"text-sm text-zinc-400 mt-0.5"},Vn={class:"flex items-center gap-2"},Dn={key:0,class:"px-4 py-3 bg-zinc-900/50 border-t border-zinc-700/50"},En={class:"space-y-2 text-sm"},Tn={class:"text-zinc-500 w-32 flex-shrink-0"},Pn={class:"text-zinc-300 font-mono break-all"},$n={key:1,class:"text-xs"},jn={key:8},Fn={class:"space-y-4"},Un={class:"rounded-lg border border-red-500/30 bg-red-500/5 p-4"},An={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},Hn={key:0,class:"mt-4 space-y-4"},Kn={class:"flex items-start gap-3 p-3 bg-red-900/20 rounded-lg"},Mn={class:"text-sm text-red-400/80"},Nn={class:"text-red-300"},In={class:"flex gap-3"},On={class:"space-y-4"},Ln={class:"flex items-center gap-2 text-sm text-zinc-400"},Rn={class:"font-mono"},Bn={key:0,class:"py-8 text-center text-zinc-500"},Yn={key:1,class:"py-8 text-center text-red-400"},qn={key:2,class:"max-h-64 overflow-y-auto space-y-1"},Xn=["onClick"],Gn={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},Jn={key:0,class:"mt-1 text-sm text-red-400"},Wn={key:0},Zn=["value","data-name"],Qn={key:0,class:"mt-1 text-sm text-red-400"},el={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},tl={key:0,class:"mt-1 text-sm text-red-400"},sl={key:0,class:"mt-1 text-sm text-red-400"},nl={class:"flex justify-end gap-3 pt-4 border-t border-zinc-800"},hl=zt({__name:"Settings",props:{environment:{},remoteApiUrl:{},editor:{},editorOptions:{},sshKeys:{},availableSshKeys:{},templateFavorites:{},notificationsEnabled:{type:Boolean},menuBarEnabled:{type:Boolean}},setup(w){const f=w,Oe=Pt(),Le=pe(()=>Oe.props.multi_environment),_e=document.querySelector('meta[name="csrf-token"]')?.content||"",Re=pe(()=>{const a=[{id:"environment",label:"Environment",icon:Et},{id:"configuration",label:"Configuration",icon:Y},{id:"dns",label:"DNS Mappings",icon:Nt},{id:"access",label:"External Access",icon:Te},{id:"templates",label:"Templates",icon:Ke},{id:"ssh-keys",label:"SSH Keys",icon:Me},{id:"desktop",label:"Desktop",icon:Tt},{id:"health",label:"Health Check",icon:ge},{id:"danger",label:"Danger Zone",icon:ye}];return Le.value?a:a.filter(e=>!["ssh-keys","desktop","danger"].includes(e.id))}),z=p("environment"),q=pe(()=>!f.environment.is_local&&f.remoteApiUrl),x=A({name:f.environment.name,host:f.environment.host,user:f.environment.user,port:f.environment.port,editor_scheme:f.editor.scheme}),X=p(!1),E=p(null),G=p(!1),we=p(null),ie=p(!0),J=p(!1),S=p([]),H=p(""),W=p("8.4"),ke=p(["8.3","8.4","8.5"]),Z=p(!1),U=p(""),Ce=p("test"),K=p(!1),C=p(null),$=p(null),M=p(new Set),Be={ssh:"SSH Connection",cli:"CLI Installation",docker:"Docker Services",api:"API Connectivity",environment_dns:"Environment DNS",local_dns:"Local DNS",config:"Configuration"};function Ye(a){M.value.has(a)?M.value.delete(a):M.value.add(a)}const N=p(new Set);async function ze(){K.value=!0,$.value=null,C.value=null;try{const e=await(await fetch(`/environments/${f.environment.id}/doctor`)).json();e.success?C.value=e:$.value=e.error||"Health check failed"}catch{$.value="Failed to run health check"}finally{K.value=!1}}async function qe(a){N.value.add(a);try{const l=await(await fetch(`/environments/${f.environment.id}/doctor/fix/${a}`,{method:"POST",headers:{"X-CSRF-TOKEN":_e,"Content-Type":"application/json"}})).json();l.success?await ze():$.value=l.message||"Failed to fix issue"}catch{$.value="Failed to fix issue"}finally{N.value.delete(a)}}async function Xe(){if(!(!q.value||!f.remoteApiUrl)){X.value=!0,E.value=null;try{const e=await(await fetch(`${f.remoteApiUrl}/instance-info`)).json();e.success&&e.data?x.name=e.data.name:E.value=e.error||"Failed to load instance info"}catch{E.value="Failed to connect to remote environment"}finally{X.value=!1}}}async function Ge(){if(f.remoteApiUrl){G.value=!0,E.value=null;try{const e=await(await fetch(`${f.remoteApiUrl}/instance-info`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name})})).json();e.success||(E.value=e.error||"Failed to update name")}catch{E.value="Failed to connect to remote environment"}finally{G.value=!1}}}async function Je(){ie.value=!0;try{const e=await(await fetch(`/api/environments/${f.environment.id}/config`)).json();e.success&&(we.value=e.data,S.value=[...e.data.paths||[]],S.value.length===0&&S.value.push(""),H.value=e.data.tld||"test",W.value=e.data.default_php_version||"8.4",Ce.value=e.data.tld||"test",e.data.available_php_versions?.length&&(ke.value=e.data.available_php_versions))}catch(a){console.error("Failed to load config:",a)}finally{ie.value=!1}}async function We(){q.value&&await Ge(),x.post(`/environments/${f.environment.id}/settings`)}function Ze(){S.value.push("")}function Qe(a){S.value.splice(a,1)}const re=p(!1),Q=p(null),I=p("~"),Se=p([]),de=p(null),ce=p(!1),O=p(null);async function et(a){Q.value=a,I.value=S.value[a]||"~",re.value=!0,await Ve(I.value)}async function Ve(a){ce.value=!0,O.value=null;try{const l=await(await fetch(`/environments/${f.environment.id}/browse-directories?path=${encodeURIComponent(a)}`)).json();l.success?(I.value=l.data.current,Se.value=l.data.directories,de.value=l.data.parent):O.value=l.error||"Failed to load directories"}catch{O.value="Failed to load directories"}finally{ce.value=!1}}function De(a){Ve(a)}function tt(){Q.value!==null&&(S.value[Q.value]=I.value),ue()}function ue(){re.value=!1,Q.value=null}async function st(){const a=S.value.filter(e=>e.trim()!=="");if(a.length===0){B.error("Please add at least one site path");return}J.value=!0;try{const l=await(await fetch(`/environments/${f.environment.id}/config`,{method:"POST",headers:{"X-CSRF-TOKEN":_e,"Content-Type":"application/json"},body:JSON.stringify({paths:a,tld:H.value.trim()||"test",default_php_version:W.value})})).json();l.success?(we.value=l.data,Ce.value=H.value.trim()||"test",B.success("Configuration saved")):B.error("Failed to save config",{description:l.error||"Unknown error"})}catch{B.error("Failed to save config")}finally{J.value=!1}}function nt(){Z.value=!0,U.value=""}function lt(){Z.value=!1,U.value=""}function ot(){U.value===f.environment.name&&oe.delete(`/environments/${f.environment.id}`,{onSuccess:()=>{}})}St(()=>{Je(),q.value&&Xe()});const T=A({external_access:f.environment.external_access??!1,external_host:f.environment.external_host??""}),Ee=()=>{T.post(`/environments/${f.environment.id}/settings/external-access`)};Vt(()=>T.external_access,(a,e)=>{e===!0&&a===!1&&Ee()});const ee=p(!1),j=p(null),h=A({name:"",public_key:""}),at=()=>{j.value=null,h.reset(),ee.value=!0},it=a=>{j.value=a,h.name=a.name,h.public_key=a.public_key,ee.value=!0},te=()=>{ee.value=!1,j.value=null,h.reset()},rt=()=>{j.value?h.put(`/ssh-keys/${j.value.id}`,{onSuccess:te}):h.post("/ssh-keys",{onSuccess:te})},dt=a=>{confirm("Delete this SSH key?")&&oe.delete(`/ssh-keys/${a.id}`)},ct=a=>{oe.post(`/ssh-keys/${a.id}/default`)},ut=async a=>{await navigator.clipboard.writeText(a.public_key),B.success("Copied to clipboard")},mt=a=>{const l=a.target.selectedOptions[0];if(l.value){h.public_key=l.value;const m=l.dataset.name;m&&!h.name&&(h.name=m)}},pt=(a,e=80)=>a.length>e?a.substring(0,e)+"...":a,se=p(!1),F=p(null),y=A({repo_url:"",display_name:""}),vt=()=>{F.value=null,y.reset(),se.value=!0},ft=a=>{F.value=a,y.repo_url=a.repo_url,y.display_name=a.display_name,se.value=!0},ne=()=>{se.value=!1,F.value=null,y.reset()},xt=()=>{F.value?y.put(`/template-favorites/${F.value.id}`,{onSuccess:ne}):y.post("/template-favorites",{onSuccess:ne})},yt=a=>{confirm("Delete this template?")&&oe.delete(`/template-favorites/${a.id}`)},ht=a=>{const e=a.match(/(?:github\.com\/)?([^/]+)\/([^/]+)/);return e?e[2]:a},gt=()=>{!F.value&&y.repo_url&&!y.display_name&&(y.display_name=ht(y.repo_url))},bt=a=>{const e=a.startsWith("http")?a:`https://github.com/${a}`;window.open(e,"_blank")},L=A({enabled:f.notificationsEnabled}),_t=()=>{L.enabled=!L.enabled,L.post("/settings/notifications")},R=A({enabled:f.menuBarEnabled}),wt=()=>{R.enabled=!R.enabled,R.post("/settings/menu-bar")};return(a,e)=>(o(),i(b,null,[n(t(Dt),{title:`Settings - ${w.environment.name}`},null,8,["title"]),s("div",Lt,[s("aside",Rt,[s("div",Bt,[s("div",Yt,[e[15]||(e[15]=s("h1",{class:"text-lg font-semibold text-white"},"Settings",-1)),s("p",qt,"Configure "+c(w.environment.name),1)]),s("nav",Xt,[(o(!0),i(b,null,V(Re.value,l=>(o(),i("button",{key:l.id,type:"button",onClick:m=>z.value=l.id,class:Pe(["flex w-full items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",z.value===l.id?"bg-zinc-800 text-white":"text-zinc-400 hover:bg-zinc-800/50 hover:text-white",l.id==="danger"&&"text-red-400 hover:text-red-400"])},[(o(),_($t(l.icon),{class:"h-4 w-4"})),d(" "+c(l.label),1)],10,Gt))),128))])])]),s("main",Jt,[s("div",Wt,[z.value==="environment"?(o(),i("div",Zt,[e[27]||(e[27]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"Environment"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Configure your development environment settings")],-1)),s("form",{onSubmit:le(We,["prevent"])},[s("div",Qt,[s("div",es,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[16]||(e[16]=[d("Environment Name",-1)])]),_:1}),s("p",ts,[e[19]||(e[19]=d(" Display name for this environment. ",-1)),q.value?(o(),i(b,{key:0},[e[17]||(e[17]=s("br",null,null,-1)),e[18]||(e[18]=s("span",{class:"text-zinc-600"},"Changes will be synced to the remote environment.",-1))],64)):u("",!0)])]),s("div",ss,[s("div",ns,[n(t(D),{modelValue:t(x).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(x).name=l),type:"text",class:"w-full",disabled:X.value},null,8,["modelValue","disabled"]),X.value?(o(),_(t(ae),{key:0,class:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 animate-spin text-zinc-500"})):u("",!0)]),t(x).errors.name?(o(),i("p",ls,c(t(x).errors.name),1)):u("",!0),E.value?(o(),i("p",os,c(E.value),1)):u("",!0)])]),n(t(P),{class:"bg-zinc-800"}),s("div",as,[s("div",is,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[20]||(e[20]=[d("Code Editor",-1)])]),_:1}),e[21]||(e[21]=s("p",{class:"text-xs text-zinc-500"},"Select your preferred editor for opening files.",-1))]),s("div",rs,[n(t(Ae),{modelValue:t(x).editor_scheme,"onUpdate:modelValue":e[1]||(e[1]=l=>t(x).editor_scheme=l)},{default:r(()=>[n(t($e),{class:"w-full"},{default:r(()=>[n(t(je),{placeholder:"Select editor"})]),_:1}),n(t(Fe),null,{default:r(()=>[(o(!0),i(b,null,V(w.editorOptions,(l,m)=>(o(),_(t(Ue),{key:m,value:m},{default:r(()=>[d(c(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),w.environment.is_local?u("",!0):(o(),i(b,{key:0},[n(t(P),{class:"bg-zinc-800"}),s("div",ds,[s("div",cs,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[22]||(e[22]=[d("SSH Connection",-1)])]),_:1}),e[23]||(e[23]=s("p",{class:"text-xs text-zinc-500"},"Host, user, and port for SSH access.",-1))]),s("div",us,[s("div",ms,[n(t(g),{class:"text-xs text-zinc-500"},{default:r(()=>[...e[24]||(e[24]=[d("Host",-1)])]),_:1}),n(t(D),{modelValue:t(x).host,"onUpdate:modelValue":e[2]||(e[2]=l=>t(x).host=l),type:"text",class:"font-mono"},null,8,["modelValue"]),t(x).errors.host?(o(),i("p",ps,c(t(x).errors.host),1)):u("",!0)]),s("div",vs,[s("div",fs,[n(t(g),{class:"text-xs text-zinc-500"},{default:r(()=>[...e[25]||(e[25]=[d("User",-1)])]),_:1}),n(t(D),{modelValue:t(x).user,"onUpdate:modelValue":e[3]||(e[3]=l=>t(x).user=l),type:"text",class:"font-mono"},null,8,["modelValue"]),t(x).errors.user?(o(),i("p",xs,c(t(x).errors.user),1)):u("",!0)]),s("div",ys,[n(t(g),{class:"text-xs text-zinc-500"},{default:r(()=>[...e[26]||(e[26]=[d("Port",-1)])]),_:1}),n(t(D),{modelValue:t(x).port,"onUpdate:modelValue":e[4]||(e[4]=l=>t(x).port=l),type:"number",class:"font-mono"},null,8,["modelValue"]),t(x).errors.port?(o(),i("p",hs,c(t(x).errors.port),1)):u("",!0)])])])])],64)),n(t(P),{class:"bg-zinc-800"}),s("div",gs,[n(t(v),{type:"submit",disabled:t(x).processing||G.value},{default:r(()=>[d(c(t(x).processing||G.value?"Saving...":"Save Environment"),1)]),_:1},8,["disabled"])])],32)])):u("",!0),z.value==="configuration"?(o(),i("div",bs,[e[36]||(e[36]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"Configuration"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Configure site paths, TLD, and PHP settings")],-1)),ie.value?(o(),i("div",_s,[n(t(ae),{class:"w-4 h-4 inline animate-spin mr-2"}),e[28]||(e[28]=d(" Loading configuration... ",-1))])):(o(),i(b,{key:1},[s("div",ws,[s("div",ks,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[29]||(e[29]=[d("Project Paths",-1)])]),_:1}),e[30]||(e[30]=s("p",{class:"text-xs text-zinc-500"},"Directories where your projects are located.",-1))]),s("div",Cs,[(o(!0),i(b,null,V(S.value,(l,m)=>(o(),i("div",{key:m,class:"flex items-center gap-2"},[n(t(D),{modelValue:S.value[m],"onUpdate:modelValue":k=>S.value[m]=k,type:"text",placeholder:"/home/user/projects",class:"flex-1 font-mono text-sm"},null,8,["modelValue","onUpdate:modelValue"]),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:k=>et(m),title:"Browse directories"},{default:r(()=>[n(t(Y),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:k=>Qe(m),class:"hover:text-red-400"},{default:r(()=>[n(t(he),{class:"w-4 h-4"})]),_:1},8,["onClick"])]))),128)),n(t(v),{type:"button",variant:"outline",size:"sm",onClick:Ze},{default:r(()=>[n(t(ve),{class:"w-4 h-4 mr-2"}),e[31]||(e[31]=d(" Add path ",-1))]),_:1})])]),n(t(P),{class:"bg-zinc-800"}),s("div",zs,[s("div",Ss,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[32]||(e[32]=[d("TLD",-1)])]),_:1}),e[33]||(e[33]=s("p",{class:"text-xs text-zinc-500"},"Top-level domain for local projects.",-1))]),s("div",Vs,[n(t(D),{modelValue:H.value,"onUpdate:modelValue":e[5]||(e[5]=l=>H.value=l),type:"text",placeholder:"test",class:"font-mono"},null,8,["modelValue"])])]),n(t(P),{class:"bg-zinc-800"}),s("div",Ds,[s("div",Es,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[34]||(e[34]=[d("Default PHP Version",-1)])]),_:1}),e[35]||(e[35]=s("p",{class:"text-xs text-zinc-500"},"PHP version used for new projects.",-1))]),s("div",Ts,[n(t(Ae),{modelValue:W.value,"onUpdate:modelValue":e[6]||(e[6]=l=>W.value=l)},{default:r(()=>[n(t($e),{class:"w-full"},{default:r(()=>[n(t(je),{placeholder:"Select PHP version"})]),_:1}),n(t(Fe),null,{default:r(()=>[(o(!0),i(b,null,V(ke.value,l=>(o(),_(t(Ue),{key:l,value:l},{default:r(()=>[d(" PHP "+c(l),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),n(t(P),{class:"bg-zinc-800"}),s("div",Ps,[n(t(v),{type:"button",onClick:st,disabled:J.value},{default:r(()=>[d(c(J.value?"Saving...":"Save Configuration"),1)]),_:1},8,["disabled"])])],64))])):u("",!0),z.value==="dns"?(o(),i("div",$s,[e[37]||(e[37]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"DNS Mappings"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Configure DNS resolution for development domains")],-1)),n(At,{"environment-id":w.environment.id},null,8,["environment-id"])])):u("",!0),z.value==="access"?(o(),i("div",js,[e[43]||(e[43]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"External Access"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Configure external access settings for this environment")],-1)),s("div",Fs,[s("div",Us,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[38]||(e[38]=[d("Enable External Access",-1)])]),_:1}),e[39]||(e[39]=s("p",{class:"text-xs text-zinc-500"},"Enable SSH links for external access.",-1))]),s("div",As,[n(t(xe),{checked:t(T).external_access,"onUpdate:checked":e[7]||(e[7]=l=>t(T).external_access=l)},null,8,["checked"])])]),t(T).external_access?(o(),i("div",Hs,[n(t(P),{class:"bg-zinc-800"}),s("div",Ks,[s("div",Ms,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[40]||(e[40]=[d("External Host / IP",-1)])]),_:1}),e[41]||(e[41]=s("p",{class:"text-xs text-zinc-500"},"The hostname or IP address external users will use to connect via SSH.",-1))]),s("div",Ns,[n(t(D),{modelValue:t(T).external_host,"onUpdate:modelValue":e[8]||(e[8]=l=>t(T).external_host=l),type:"text",placeholder:"e.g. 192.168.1.100 or myserver.example.com",class:"font-mono"},null,8,["modelValue"]),n(t(v),{type:"button",onClick:Ee,disabled:t(T).processing,variant:"outline",size:"sm"},{default:r(()=>[...e[42]||(e[42]=[d(" Save External Access ",-1)])]),_:1},8,["disabled"])])])])):u("",!0)])):u("",!0),z.value==="templates"?(o(),i("div",Is,[e[46]||(e[46]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"Templates"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Manage your favorite site templates for quick project creation")],-1)),s("div",Os,[w.templateFavorites.length===0?(o(),i("div",Ls,[n(t(Ke),{class:"w-12 h-12 mx-auto mb-3 text-zinc-600"}),e[44]||(e[44]=s("p",{class:"text-sm"},"No template favorites yet.",-1))])):u("",!0),(o(!0),i(b,null,V(w.templateFavorites,l=>(o(),i("div",{key:l.id,class:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800/50 p-4"},[s("div",null,[s("div",Rs,[s("p",Bs,c(l.display_name),1),l.usage_count>0?(o(),_(t(He),{key:0,variant:"secondary",class:"text-xs"},{default:r(()=>[d(" Used "+c(l.usage_count)+"x ",1)]),_:2},1024)):u("",!0)]),s("p",Ys,c(l.repo_url),1)]),s("div",qs,[n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>bt(l.repo_url),title:"Open on GitHub"},{default:r(()=>[n(t(Te),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>ft(l),title:"Edit"},{default:r(()=>[n(t(Ne),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>yt(l),class:"hover:text-red-400",title:"Delete"},{default:r(()=>[n(t(he),{class:"w-4 h-4"})]),_:1},8,["onClick"])])]))),128)),n(t(v),{type:"button",variant:"outline",size:"sm",onClick:vt,class:"mt-2"},{default:r(()=>[n(t(ve),{class:"w-4 h-4 mr-2"}),e[45]||(e[45]=d(" Add Template ",-1))]),_:1})])])):u("",!0),z.value==="ssh-keys"?(o(),i("div",Xs,[e[50]||(e[50]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"SSH Keys"),s("p",{class:"text-sm text-zinc-400 mt-1"},"SSH keys for environment provisioning")],-1)),s("div",Gs,[w.sshKeys.length===0?(o(),i("div",Js,[n(t(Me),{class:"w-12 h-12 mx-auto mb-3 text-zinc-600"}),e[47]||(e[47]=s("p",{class:"text-sm"},"No SSH keys configured.",-1))])):u("",!0),(o(!0),i(b,null,V(w.sshKeys,l=>(o(),i("div",{key:l.id,class:"flex items-center justify-between rounded-lg border border-zinc-700 bg-zinc-800/50 p-4"},[s("div",null,[s("div",Ws,[s("p",Zs,c(l.name),1),l.is_default?(o(),_(t(He),{key:0,class:"text-xs bg-lime-400/15 text-lime-400 border-0"},{default:r(()=>[...e[48]||(e[48]=[d(" Default ",-1)])]),_:1})):u("",!0)]),s("p",Qs,c(pt(l.public_key,50)),1)]),s("div",en,[n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>ut(l),title:"Copy"},{default:r(()=>[n(t(It),{class:"w-4 h-4"})]),_:1},8,["onClick"]),l.is_default?u("",!0):(o(),_(t(v),{key:0,type:"button",variant:"ghost",size:"icon",onClick:m=>ct(l),class:"hover:text-lime-400",title:"Set default"},{default:r(()=>[n(t(Kt),{class:"w-4 h-4"})]),_:1},8,["onClick"])),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>it(l),title:"Edit"},{default:r(()=>[n(t(Ne),{class:"w-4 h-4"})]),_:1},8,["onClick"]),n(t(v),{type:"button",variant:"ghost",size:"icon",onClick:m=>dt(l),class:"hover:text-red-400",title:"Delete"},{default:r(()=>[n(t(he),{class:"w-4 h-4"})]),_:1},8,["onClick"])])]))),128)),n(t(v),{type:"button",variant:"outline",size:"sm",onClick:at,class:"mt-2"},{default:r(()=>[n(t(ve),{class:"w-4 h-4 mr-2"}),e[49]||(e[49]=d(" Add SSH Key ",-1))]),_:1})])])):u("",!0),z.value==="desktop"?(o(),i("div",tn,[e[55]||(e[55]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"Desktop"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Configure desktop app behavior")],-1)),s("div",sn,[s("div",nn,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[51]||(e[51]=[d("Desktop Notifications",-1)])]),_:1}),e[52]||(e[52]=s("p",{class:"text-xs text-zinc-500"},"Show system notifications for site events.",-1))]),s("div",ln,[n(t(xe),{checked:t(L).enabled,"onUpdate:checked":_t,disabled:t(L).processing},null,8,["checked","disabled"])])]),n(t(P),{class:"bg-zinc-800"}),s("div",on,[s("div",an,[n(t(g),{class:"text-sm font-medium text-white"},{default:r(()=>[...e[53]||(e[53]=[d("Menu Bar Icon",-1)])]),_:1}),e[54]||(e[54]=s("p",{class:"text-xs text-zinc-500"},"Show Orbit icon in menu bar.",-1))]),s("div",rn,[n(t(xe),{checked:t(R).enabled,"onUpdate:checked":wt,disabled:t(R).processing},null,8,["checked","disabled"])])])])):u("",!0),z.value==="health"?(o(),i("div",dn,[e[56]||(e[56]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-white"},"Health Check"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Monitor and diagnose environment health")],-1)),s("div",cn,[s("div",un,[n(t(ge),{class:"h-5 w-5 text-lime-400"})]),s("div",mn,[C.value?(o(),i("p",pn,c(C.value.status==="healthy"?"All Systems Operational":C.value.status==="degraded"?"Some Warnings":"Issues Found"),1)):(o(),i("p",vn,"Ready to check")),s("p",fn,c(C.value?"Last checked: Just now":"Run diagnostics to check health"),1)]),n(t(v),{type:"button",variant:"secondary",size:"sm",onClick:ze,disabled:K.value},{default:r(()=>[K.value?(o(),_(t(Mt),{key:0,class:"w-4 h-4 animate-spin mr-2"})):(o(),_(t(ge),{key:1,class:"w-4 h-4 mr-2"})),d(" "+c(K.value?"Running...":"Run Check"),1)]),_:1},8,["disabled"])]),$.value?(o(),i("div",xn,[s("div",yn,[n(t(Ie),{class:"w-5 h-5"}),s("span",null,c($.value),1)])])):u("",!0),C.value?(o(),i("div",hn,[s("div",gn,[s("span",bn,c(C.value.summary.passed)+" passed",1),C.value.summary.warnings>0?(o(),i("span",_n,c(C.value.summary.warnings)+" warnings ",1)):u("",!0),C.value.summary.errors>0?(o(),i("span",wn,c(C.value.summary.errors)+" errors ",1)):u("",!0)]),(o(!0),i(b,null,V(C.value.checks,(l,m)=>(o(),i("div",{key:m,class:"border border-zinc-700/50 rounded-lg overflow-hidden"},[s("button",{type:"button",onClick:k=>Ye(m),class:"w-full flex items-center justify-between p-3 bg-zinc-800/30 hover:bg-zinc-700/30 transition-colors text-left"},[s("div",Cn,[l.status==="ok"?(o(),_(t(Ot),{key:0,class:"w-5 h-5 text-lime-400"})):l.status==="warning"?(o(),_(t(ye),{key:1,class:"w-5 h-5 text-amber-400"})):(o(),_(t(Ie),{key:2,class:"w-5 h-5 text-red-400"})),s("div",null,[s("span",zn,c(Be[m]||m),1),s("p",Sn,c(l.message),1)])]),s("div",Vn,[l.status==="error"&&l.details?.can_fix?(o(),_(t(v),{key:0,onClick:le(k=>qe(m),["stop"]),disabled:N.value.has(m),variant:"secondary",size:"sm"},{default:r(()=>[N.value.has(m)?(o(),_(t(ae),{key:0,class:"w-3 h-3 animate-spin mr-1"})):u("",!0),d(" "+c(N.value.has(m)?"Fixing...":"Fix"),1)]),_:2},1032,["onClick","disabled"])):u("",!0),l.details&&Object.keys(l.details).length>0?(o(),_(t(jt),{key:1,class:Pe(["w-4 h-4 text-zinc-500 transition-transform",M.value.has(m)?"rotate-180":""])},null,8,["class"])):u("",!0)])],8,kn),M.value.has(m)&&l.details&&Object.keys(l.details).filter(k=>k!=="can_fix").length>0?(o(),i("div",Dn,[s("dl",En,[(o(!0),i(b,null,V(l.details,(k,me)=>Ft((o(),i("div",{key:me,class:"flex"},[s("dt",Tn,c(me),1),s("dd",Pn,[Array.isArray(k)?(o(!0),i(b,{key:0},V(k,(kt,Ct)=>(o(),i("span",{key:Ct,class:"block"},c(kt),1))),128)):typeof k=="object"&&k!==null?(o(),i("pre",$n,c(JSON.stringify(k,null,2)),1)):(o(),i(b,{key:2},[d(c(k),1)],64))])])),[[Ut,me!=="can_fix"]])),128))])])):u("",!0)]))),128))])):u("",!0)])):u("",!0),z.value==="danger"?(o(),i("div",jn,[e[64]||(e[64]=s("header",{class:"mb-8"},[s("h2",{class:"text-2xl font-semibold tracking-tight text-red-400"},"Danger Zone"),s("p",{class:"text-sm text-zinc-400 mt-1"},"Irreversible and destructive actions")],-1)),s("div",Fn,[s("div",Un,[s("div",An,[e[58]||(e[58]=s("div",null,[s("p",{class:"text-sm font-medium text-white"},"Delete Environment"),s("p",{class:"text-xs text-zinc-500"},"Permanently delete this environment.")],-1)),Z.value?u("",!0):(o(),_(t(v),{key:0,type:"button",variant:"destructive",size:"sm",onClick:nt},{default:r(()=>[...e[57]||(e[57]=[d(" Delete ",-1)])]),_:1}))]),Z.value?(o(),i("div",Hn,[s("div",Kn,[n(t(ye),{class:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),s("div",null,[e[61]||(e[61]=s("p",{class:"text-sm text-red-300 font-medium"},"Are you sure?",-1)),s("p",Mn,[e[59]||(e[59]=d(" Type ",-1)),s("strong",Nn,c(w.environment.name),1),e[60]||(e[60]=d(" to confirm. ",-1))])])]),n(t(D),{modelValue:U.value,"onUpdate:modelValue":e[9]||(e[9]=l=>U.value=l),type:"text",placeholder:"Type environment name",class:"w-full"},null,8,["modelValue"]),s("div",In,[n(t(v),{type:"button",variant:"destructive",size:"sm",onClick:ot,disabled:U.value!==w.environment.name},{default:r(()=>[...e[62]||(e[62]=[d(" Delete ",-1)])]),_:1},8,["disabled"]),n(t(v),{type:"button",variant:"outline",size:"sm",onClick:lt},{default:r(()=>[...e[63]||(e[63]=[d(" Cancel ",-1)])]),_:1})])])):u("",!0)])])])):u("",!0)])])]),n(fe,{show:re.value,title:"Select Directory",onClose:ue},{default:r(()=>[s("div",On,[s("div",Ln,[n(t(Y),{class:"w-4 h-4"}),s("span",Rn,c(I.value),1)]),ce.value?(o(),i("div",Bn,[n(t(ae),{class:"w-6 h-6 animate-spin mx-auto"})])):O.value?(o(),i("div",Yn,c(O.value),1)):(o(),i("div",qn,[de.value?(o(),i("button",{key:0,type:"button",onClick:e[10]||(e[10]=l=>De(de.value)),class:"w-full flex items-center gap-2 px-3 py-2 rounded-md hover:bg-zinc-800 text-left text-sm text-zinc-400"},[n(t(Y),{class:"w-4 h-4"}),e[65]||(e[65]=d(" .. ",-1))])):u("",!0),(o(!0),i(b,null,V(Se.value,l=>(o(),i("button",{key:l.path,type:"button",onClick:m=>De(l.path),class:"w-full flex items-center gap-2 px-3 py-2 rounded-md hover:bg-zinc-800 text-left text-sm text-white"},[n(t(Y),{class:"w-4 h-4 text-zinc-400"}),d(" "+c(l.name),1)],8,Xn))),128))])),s("div",Gn,[n(t(v),{type:"button",variant:"outline",onClick:ue},{default:r(()=>[...e[66]||(e[66]=[d("Cancel",-1)])]),_:1}),n(t(v),{type:"button",onClick:tt},{default:r(()=>[...e[67]||(e[67]=[d("Select This Directory",-1)])]),_:1})])])]),_:1},8,["show"]),n(fe,{show:ee.value,title:j.value?"Edit SSH Key":"Add SSH Key",onClose:te},{default:r(()=>[s("form",{onSubmit:le(rt,["prevent"]),class:"space-y-4"},[s("div",null,[n(t(g),{class:"text-sm font-medium text-white mb-1.5"},{default:r(()=>[...e[68]||(e[68]=[d("Name",-1)])]),_:1}),n(t(D),{modelValue:t(h).name,"onUpdate:modelValue":e[11]||(e[11]=l=>t(h).name=l),type:"text",placeholder:"e.g. 1password"},null,8,["modelValue"]),t(h).errors.name?(o(),i("p",Jn,c(t(h).errors.name),1)):u("",!0)]),!j.value&&Object.keys(w.availableSshKeys).length>0?(o(),i("div",Wn,[n(t(g),{class:"text-sm font-medium text-white mb-1.5"},{default:r(()=>[...e[69]||(e[69]=[d("Import from system",-1)])]),_:1}),s("select",{onChange:mt,class:"w-full rounded-md border border-zinc-700 bg-zinc-800 px-3 py-2 text-sm text-white"},[e[70]||(e[70]=s("option",{value:""},"Select a key to import...",-1)),(o(!0),i(b,null,V(w.availableSshKeys,(l,m)=>(o(),i("option",{key:m,value:l.content,"data-name":m},c(m)+" ("+c(l.type)+") ",9,Zn))),128))],32)])):u("",!0),s("div",null,[n(t(g),{class:"text-sm font-medium text-white mb-1.5"},{default:r(()=>[...e[71]||(e[71]=[d("Public Key",-1)])]),_:1}),n(t(Ht),{modelValue:t(h).public_key,"onUpdate:modelValue":e[12]||(e[12]=l=>t(h).public_key=l),placeholder:"ssh-ed25519 AAAA...",rows:"4",class:"font-mono text-xs"},null,8,["modelValue"]),t(h).errors.public_key?(o(),i("p",Qn,c(t(h).errors.public_key),1)):u("",!0)]),s("div",el,[n(t(v),{type:"button",variant:"outline",onClick:te},{default:r(()=>[...e[72]||(e[72]=[d("Cancel",-1)])]),_:1}),n(t(v),{type:"submit",disabled:t(h).processing},{default:r(()=>[d(c(t(h).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"]),n(fe,{show:se.value,title:F.value?"Edit Template":"Add Template",onClose:ne},{default:r(()=>[s("form",{onSubmit:le(xt,["prevent"]),class:"space-y-4"},[s("div",null,[n(t(g),{class:"text-sm font-medium text-white mb-1.5"},{default:r(()=>[...e[73]||(e[73]=[d("Repository URL",-1)])]),_:1}),n(t(D),{modelValue:t(y).repo_url,"onUpdate:modelValue":e[13]||(e[13]=l=>t(y).repo_url=l),type:"text",placeholder:"owner/repo or https://github.com/owner/repo",onInput:gt},null,8,["modelValue"]),t(y).errors.repo_url?(o(),i("p",tl,c(t(y).errors.repo_url),1)):u("",!0)]),s("div",null,[n(t(g),{class:"text-sm font-medium text-white mb-1.5"},{default:r(()=>[...e[74]||(e[74]=[d("Display Name",-1)])]),_:1}),n(t(D),{modelValue:t(y).display_name,"onUpdate:modelValue":e[14]||(e[14]=l=>t(y).display_name=l),type:"text",placeholder:"My Template"},null,8,["modelValue"]),t(y).errors.display_name?(o(),i("p",sl,c(t(y).errors.display_name),1)):u("",!0)]),s("div",nl,[n(t(v),{type:"button",variant:"outline",onClick:ne},{default:r(()=>[...e[75]||(e[75]=[d("Cancel",-1)])]),_:1}),n(t(v),{type:"submit",disabled:t(y).processing},{default:r(()=>[d(c(t(y).processing?"Saving...":"Save"),1)]),_:1},8,["disabled"])])],32)]),_:1},8,["show","title"])],64))}});export{hl as default};
