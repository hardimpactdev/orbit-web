import{c as w,d as y,a as d,b as s,t as b,F as f,e as l,f as u,g as x,u as t,w as i,n as z,r as _,h as r,l as h,E as C,o as n,i as E,S as g,j as $}from"./app-CNm8s883.js";import{D,I as v}from"./craft-ui-Bs8mf6IE.js";const A=w("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),N={class:"border border-border rounded-lg p-4 hover:border-muted-foreground/30 transition-colors"},S={class:"flex justify-between items-start mb-3"},j={class:"font-semibold text-foreground"},V={class:"text-sm text-muted-foreground"},B={class:"flex items-center space-x-2"},L={class:"flex gap-2"},T=y({__name:"EnvironmentCard",props:{environment:{}},setup(o){const m=o,e=_("idle"),c=async()=>{e.value="testing";try{const a=await(await fetch(`/environments/${m.environment.id}/test-connection`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}})).json();e.value=a.success?"success":"error"}catch{e.value="error"}},k={idle:"bg-zinc-600",testing:"bg-yellow-400 animate-pulse",success:"bg-lime-400",error:"bg-red-400"};return(p,a)=>(n(),d("div",N,[s("div",S,[s("div",null,[s("h3",j,b(o.environment.name),1),s("p",V,[o.environment.is_local?(n(),d(f,{key:0},[l("Local")],64)):(n(),d(f,{key:1},[l(b(o.environment.user)+"@"+b(o.environment.host),1)],64))])]),s("div",B,[o.environment.is_default?(n(),u(t(D),{key:0,class:"bg-blue-500/15 text-blue-400 border-blue-400/20"},{default:i(()=>[...a[0]||(a[0]=[l("Default",-1)])]),_:1})):x("",!0),s("span",{class:z(["w-3 h-3 rounded-full transition-colors",k[e.value]])},null,2)])]),s("div",L,[r(t(v),{"as-child":"",variant:"secondary",class:"flex-1"},{default:i(()=>[r(t(h),{href:`/environments/${o.environment.id}`},{default:i(()=>[r(t(C),{class:"w-4 h-4 mr-2"}),a[1]||(a[1]=l(" View ",-1))]),_:1},8,["href"])]),_:1}),r(t(v),{onClick:c,disabled:e.value==="testing",variant:"secondary",class:"flex-1"},{default:i(()=>[r(t(A),{class:"w-4 h-4 mr-2"}),a[2]||(a[2]=l(" Test ",-1))]),_:1},8,["disabled"])])]))}}),F={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8"},I={key:0,class:"rounded-lg border border-zinc-800 bg-zinc-900/50 p-8 text-center"},q={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},K=y({__name:"Dashboard",props:{environments:{},defaultEnvironment:{}},setup(o){return(m,e)=>(n(),d(f,null,[r(t(E),{title:"Dashboard"}),s("div",null,[e[5]||(e[5]=l(" aaa ",-1)),s("header",F,[e[1]||(e[1]=s("div",null,[s("h1",{class:"text-2xl font-semibold tracking-tight text-zinc-100"},"Dashboard")],-1)),m.$page.props.multi_environment?(n(),u(t(v),{key:0,"as-child":"",size:"sm",class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:i(()=>[r(t(h),{href:"/environments/create"},{default:i(()=>[r(t(g),{class:"w-4 h-4 mr-1.5"}),e[0]||(e[0]=l(" Add Environment ",-1))]),_:1})]),_:1})):x("",!0)]),o.environments.length===0?(n(),d("div",I,[r(t(g),{class:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),e[3]||(e[3]=s("h3",{class:"text-lg font-medium text-zinc-100 mb-2"},"No environments configured",-1)),e[4]||(e[4]=s("p",{class:"text-zinc-400 mb-4"},"Get started by adding your first environment.",-1)),m.$page.props.multi_environment?(n(),u(t(v),{key:0,"as-child":"",size:"sm",class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:i(()=>[r(t(h),{href:"/environments/create"},{default:i(()=>[r(t(g),{class:"w-4 h-4 mr-1.5"}),e[2]||(e[2]=l(" Add Environment ",-1))]),_:1})]),_:1})):x("",!0)])):(n(),d("div",q,[(n(!0),d(f,null,$(o.environments,c=>(n(),u(T,{key:c.id,environment:c},null,8,["environment"]))),128))]))])],64))}});export{K as default};
