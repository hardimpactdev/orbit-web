import{d as y,c as d,a as s,t as g,F as f,b as i,e as u,f as x,u as t,w as l,n as w,r as z,g as r,l as h,E as _,o as n,h as C,S as b,i as E}from"./app-COfPIaxf.js";import{D as $,I as v}from"./craft-ui-B-UNuvt9.js";import{Z as D}from"./zap-D7-e-dPG.js";const N={class:"border border-border rounded-lg p-4 hover:border-muted-foreground/30 transition-colors"},S={class:"flex justify-between items-start mb-3"},V={class:"font-semibold text-foreground"},j={class:"text-sm text-muted-foreground"},A={class:"flex items-center space-x-2"},B={class:"flex gap-2"},T=y({__name:"EnvironmentCard",props:{environment:{}},setup(o){const m=o,e=z("idle"),c=async()=>{e.value="testing";try{const a=await(await fetch(`/environments/${m.environment.id}/test-connection`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")||"",Accept:"application/json"}})).json();e.value=a.success?"success":"error"}catch{e.value="error"}},k={idle:"bg-zinc-600",testing:"bg-yellow-400 animate-pulse",success:"bg-lime-400",error:"bg-red-400"};return(p,a)=>(n(),d("div",N,[s("div",S,[s("div",null,[s("h3",V,g(o.environment.name),1),s("p",j,[o.environment.is_local?(n(),d(f,{key:0},[i("Local")],64)):(n(),d(f,{key:1},[i(g(o.environment.user)+"@"+g(o.environment.host),1)],64))])]),s("div",A,[o.environment.is_default?(n(),u(t($),{key:0,class:"bg-blue-500/15 text-blue-400 border-blue-400/20"},{default:l(()=>[...a[0]||(a[0]=[i("Default",-1)])]),_:1})):x("",!0),s("span",{class:w(["w-3 h-3 rounded-full transition-colors",k[e.value]])},null,2)])]),s("div",B,[r(t(v),{"as-child":"",variant:"secondary",class:"flex-1"},{default:l(()=>[r(t(h),{href:`/environments/${o.environment.id}`},{default:l(()=>[r(t(_),{class:"w-4 h-4 mr-2"}),a[1]||(a[1]=i(" View ",-1))]),_:1},8,["href"])]),_:1}),r(t(v),{onClick:c,disabled:e.value==="testing",variant:"secondary",class:"flex-1"},{default:l(()=>[r(t(D),{class:"w-4 h-4 mr-2"}),a[2]||(a[2]=i(" Test ",-1))]),_:1},8,["disabled"])])]))}}),F={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8"},L={key:0,class:"rounded-lg border border-zinc-800 bg-zinc-900/50 p-8 text-center"},I={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},G=y({__name:"Dashboard",props:{environments:{},defaultEnvironment:{}},setup(o){return(m,e)=>(n(),d(f,null,[r(t(C),{title:"Dashboard"}),s("div",null,[e[5]||(e[5]=i(" aaa ",-1)),s("header",F,[e[1]||(e[1]=s("div",null,[s("h1",{class:"text-2xl font-semibold tracking-tight text-zinc-100"},"Dashboard")],-1)),m.$page.props.multi_environment?(n(),u(t(v),{key:0,"as-child":"",size:"sm",class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:l(()=>[r(t(h),{href:"/environments/create"},{default:l(()=>[r(t(b),{class:"w-4 h-4 mr-1.5"}),e[0]||(e[0]=i(" Add Environment ",-1))]),_:1})]),_:1})):x("",!0)]),o.environments.length===0?(n(),d("div",L,[r(t(b),{class:"w-16 h-16 mx-auto text-zinc-600 mb-4"}),e[3]||(e[3]=s("h3",{class:"text-lg font-medium text-zinc-100 mb-2"},"No environments configured",-1)),e[4]||(e[4]=s("p",{class:"text-zinc-400 mb-4"},"Get started by adding your first environment.",-1)),m.$page.props.multi_environment?(n(),u(t(v),{key:0,"as-child":"",size:"sm",class:"bg-lime-500 hover:bg-lime-600 text-zinc-950"},{default:l(()=>[r(t(h),{href:"/environments/create"},{default:l(()=>[r(t(b),{class:"w-4 h-4 mr-1.5"}),e[2]||(e[2]=i(" Add Environment ",-1))]),_:1})]),_:1})):x("",!0)])):(n(),d("div",I,[(n(!0),d(f,null,E(o.environments,c=>(n(),u(T,{key:c.id,environment:c},null,8,["environment"]))),128))]))])],64))}});export{G as default};
